<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hospital Management System</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>


<!-- Admin Dashboard -->
<h1>Admin Dashboard</h1>

<div class="section">
    <h2>Manage Users</h2>
    <button onclick="showAddUserForm()">Add User</button>
    <table id="usersTable">
        <thead>
            <tr>
                <th>Username</th>
                <th>Role</th>
                <th>Hospital ID</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<div class="section">
    <h2>Manage Hospitals</h2>
    <button onclick="showAddHospitalForm()">Add Hospital</button>
    <table id="hospitalsTable">
        <thead>
            <tr>
                <th>Hospital Name</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<!-- Add/Edit User Form Modal -->
<div id="addUserModal">
    <h3>Add New User</h3>
    <label for="newUsername">Username</label>
    <input type="text" id="newUsername">
    
    <label for="newUserRole">Role</label>
    <select id="newUserRole">
        <option value="admin">Admin</option>
        <option value="doctor">Doctor</option>
        <option value="nurse">Nurse</option>
    </select>

    <label for="newUserHospitalID">Hospital ID</label>
    <input type="text" id="newUserHospitalID">

    <button onclick="addUser()">Save</button>
    <button onclick="closeAddUserModal()">Cancel</button>
</div>

<!-- Add/Edit Hospital Form Modal -->
<div id="addHospitalModal">
    <h3>Add New Hospital</h3>
    <label for="hospitalName">Hospital Name</label>
    <input type="text" id="hospitalName">
    
    <button onclick="addHospital()">Save</button>
    <button onclick="closeAddHospitalModal()">Cancel</button>
</div>


</body>
    
<script src="js/script.js"></script>


<script>
// Check if the logged-in user is admin
const checkAdminAccess = () => {
    const user = JSON.parse(sessionStorage.getItem('loggedInUser'));
    
    // If no user or user is not admin, redirect to login page
    if (!user || user.role !== 'admin') {
        alert('You are not authorized to view this page.');
        window.location.href = 'login.html'; // Redirect to login page
    }
};

// Run check on page load
window.onload = checkAdminAccess;
</script>

</html>
    
